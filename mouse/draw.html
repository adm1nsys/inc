<!DOCTYPE html>
<html lang="ua">
<head>
<meta charset="UTF-8">
<title>Генератор Лабіринту</title>

<link rel="stylesheet" type="text/css" href="btns_draw.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="/inc/mouse/data/l_t/0_draw.js"></script>
<script src="/inc/mouse/data/r_t/0_draw.js"></script>
<script src="/inc/mouse/data/l_b/0_draw.js"></script>
<script src="/inc/mouse/data/r_b/0_draw.js"></script>

<script>
function loadFile(filePath, fileType, callback) {
    let tag;

    if (fileType === "css") {
        tag = document.createElement("link");
        tag.rel = "stylesheet";
        tag.type = "text/css";
        tag.href = filePath;
    } else if (fileType === "js") {
        tag = document.createElement("script");
        tag.type = "text/javascript";
        tag.src = filePath;
    }

    if (tag) {
        tag.onload = callback;
        document.head.appendChild(tag);
    }
}

function loadFilesSequentially(files, index = 0, finalCallback) {
    if (index < files.length) {
        loadFile(files[index].path, files[index].type, () => loadFilesSequentially(files, index + 1, finalCallback));
    } else if (finalCallback) {
        finalCallback();
    }
}

const filesToLoad = [


];

loadFilesSequentially(filesToLoad, 0, function() {});
</script>

</head>
<body>
<div class="content">
<div style="  max-width: 80rem;
  margin: auto;">

<header>
<center class="header"><b><h1>Генератор Лабіринту</h1></b></center>
<div class="p0l1">
  <div class="light1"></div>
  <div style="top: -50%;">
    <div class="light2"></div>
    <div class="light3"></div>
  </div>

</div>
<div class="h1">
  <a class="regular_btn" href="/inc/mouse/index.html"><div class="regular_btn1"><b class="regular_btn2">Генератр</b></div></a>
  <div class="regular_btn"><div class="regular_btn1"><b class="regular_btn2">Малювати</b></div></div>
  <a class="regular_btn" href="/inc/mouse/test.html"><div class="regular_btn1"><b class="regular_btn2">Тест</b></div></a>
  <div class="regular_btn" onclick=""><div class="regular_btn1"><b class="regular_btn2">Інформація</b></div></div>

</div>
</header>



<div style="margin:auto; margin-left: 10px; margin-right: 10px; max-width: 80rem; display: flex; flex-direction: column;">
  <div class="pt">
    <h2>Колір 1 (Доріжка) (Формат RGB(A))<div class="area_f color-box" id="colorBox1"></div></h2>
    Колір:<br>
    <input type="color" id="color1" value="#ffffff">
    Альфа канал:<br>
    <input type="range" id="alpha1" min="0" max="255" value="255" class="slider">
  </div>

  <div class="pt">
    <h2>Колір 2 (Стіни) (Формат RGB(A))  <div class="area_r color-box" id="colorBox2"></div></h2>
    Колір:<br>
    <input type="color" id="color2" value="#000000">
    Альфа канал:<br>
    <input type="range" id="alpha2" min="0" max="255" value="255" class="slider">
  </div>

  <div class="pt">
    <h2>Колір 3 (Ціль) (Формат RGB(A))  <div class="area_t color-box" id="colorBox3"></div></h2>
    Колір:<br>
    <input type="color" id="color3" value="#ff0000">
    Альфа канал:<br>
    <input type="range" id="alpha3" min="0" max="255" value="255" class="slider">
  </div>

  <div class="pt">
    <h2>Колір 4 (Місце спавну мищі) (Формат RGB(A))  <div class="area_p color-box" id="colorBox4"></div></h2>
    Колір:<br>
    <input type="color" id="color4" value="#6B99C9">
    Альфа канал:<br>
    <input type="range" id="alpha4" min="0" max="255" value="255" class="slider">
  </div>
<div class="flex">

<div class="pt" style="display: flex; justify-content: center; flex-direction: column; margin-right: 10px;">
  <button class="area_t area_t_c" onclick="setCurrentColor('area_t')"></button>
  <button class="area_f area_f_c" onclick="setCurrentColor('area_f')"></button>
  <button class="area_r area_r_c" onclick="setCurrentColor('area_r')"></button>
  <button class="area_p area_p_c" onclick="setCurrentColor('area_p')"></button>
  <button class="area_color_change" onclick=""><div class="area_color_change_blur"></div></button>

  <button class="area_color_change" style="padding: 0px;
justify-content: center;
border: 0px;
border-radius: 5px;
background: rgba(128, 128, 128, 0.24);
display: flex;" onclick="clearLayer()">
<svg width="364" height="364" viewBox="0 0 364 364" style="margin: auto;
width: 26px;
height: 26px;
align-content: center;
justify-content: center;" fill="none" xmlns="http://www.w3.org/2000/svg">
<g clip-path="url(#clip0_235_3273)">
<path fill-rule="evenodd" clip-rule="evenodd" d="M125 46H45.5C39.1487 46 34 51.1487 34 57.5V57.5C34 63.8513 39.1487 69 45.5 69H46.9185C52.8854 69 57.8426 73.6018 58.2856 79.5524L76.9499 330.247C78.3879 349.562 94.4789 364.5 113.848 364.5H250.152C269.521 364.5 285.612 349.562 287.05 330.247L305.714 79.5523C306.157 73.6018 311.115 69 317.082 69H318.5C324.851 69 330 63.8513 330 57.5V57.5C330 51.1487 324.851 46 318.5 46H239V33C239 14.7746 224.225 0 206 0H158C139.775 0 125 14.7746 125 33V46ZM82.1792 85.096C81.5424 76.4033 88.4231 69 97.1391 69H266.861C275.577 69 282.458 76.4033 281.821 85.096L264.019 328.096C263.444 335.934 256.918 342 249.059 342H114.941C107.082 342 100.556 335.934 99.9814 328.096L82.1792 85.096ZM148 125.5C148 119.149 142.851 114 136.5 114V114C130.149 114 125 119.149 125 125.5V285C125 291.351 130.149 296.5 136.5 296.5V296.5C142.851 296.5 148 291.351 148 285V125.5ZM193.5 125.5C193.5 119.149 188.351 114 182 114V114C175.649 114 170.5 119.149 170.5 125.5V285C170.5 291.351 175.649 296.5 182 296.5V296.5C188.351 296.5 193.5 291.351 193.5 285V125.5ZM239 125.5C239 119.149 233.851 114 227.5 114V114C221.149 114 216 119.149 216 125.5V285C216 291.351 221.149 296.5 227.5 296.5V296.5C233.851 296.5 239 291.351 239 285V125.5ZM159 23.5C152.925 23.5 148 28.4249 148 34.5V40C148 43.3137 150.686 46 154 46H210C213.314 46 216 43.3137 216 40V34.5C216 28.4249 211.075 23.5 205 23.5H159Z" fill="url(#paint0_linear_235_3273)"/>
</g>
<defs>
<linearGradient id="paint0_linear_235_3273" x1="182" y1="0" x2="182" y2="364.5" gradientUnits="userSpaceOnUse">
<stop stop-color="white"/>
<stop offset="1" stop-color="white" stop-opacity="0"/>
</linearGradient>
<clipPath id="clip0_235_3273">
<rect width="364" height="364" fill="white"/>
</clipPath>
</defs>
</svg>

</button>
</div>


<div class="pt" style="display:flex; justify-content: center; width:100%;">


<div>
  <b class="show_n_t" style="margin-left: 35px;">1</b>
  <b class="show_n_t" style="margin-left: 71px;">2</b>
  <b class="show_n_t" style="margin-left: 107px;">3</b>
  <b class="show_n_t" style="margin-left: 143px;">4</b>
  <b class="show_n_t" style="margin-left: 179px;">5</b>
  <b class="show_n_t" style="margin-left: 215px;">6</b>
  <b class="show_n_t" style="margin-left: 251px;">7</b>
  <b class="show_n_t" style="margin-left: 287px;">8</b>
  <b class="show_n_t1" style="margin-left: 323px;">9</b>
  <b class="show_n_t1" style="margin-left: 359px;">10</b>
  <b class="show_n_t1" style="margin-left: 395px;">11</b>
  <b class="show_n_t1" style="margin-left: 431px;">12</b>
  <b class="show_n_t1" style="margin-left: 467px;">13</b>
  <b class="show_n_t1" style="margin-left: 503px;">14</b>
  <b class="show_n_t1" style="margin-left: 539px;">15</b>
  <b class="show_n_t1" style="margin-left: 575px;">16</b>

  <b class="show_n_l" style="top: 66px;">1</b>
  <b class="show_n_l" style="top: 102px;">2</b>
  <b class="show_n_l" style="top: 138px;">3</b>
  <b class="show_n_l" style="top: 174px;">4</b>
  <b class="show_n_l" style="top: 210px;">5</b>
  <b class="show_n_l" style="top: 246px;">6</b>
  <b class="show_n_l" style="top: 282px;">7</b>
  <b class="show_n_l" style="top: 318px;">8</b>

  <b class="show_n_l1" style="top: 354px;">9</b>
  <b class="show_n_l1" style="top: 390px;">10</b>
  <b class="show_n_l1" style="top: 426px;">11</b>
  <b class="show_n_l1" style="top: 462px;">12</b>
  <b class="show_n_l1" style="top: 498px;">13</b>
  <b class="show_n_l1" style="top: 534px;">14</b>
  <b class="show_n_l1" style="top: 570px;">15</b>
  <b class="show_n_l1" style="top: 606px;">16</b>

<div class="area">


<div style="position:static; display:flex;">
<div>


</div>
</div>
<div class="row">
    <div class="area_f" id="cel_1_1"></div>
    <div class="area_f" id="cel_1_2"></div>
    <div class="area_f" id="cel_1_3"></div>
    <div class="area_f" id="cel_1_4"></div>
    <div class="area_f" id="cel_1_5"></div>
    <div class="area_f" id="cel_1_6"></div>
    <div class="area_f" id="cel_1_7"></div>
    <div class="area_f" id="cel_1_8"></div>
    <div class="area_f" id="cel_1_9"></div>
    <div class="area_f" id="cel_1_10"></div>
    <div class="area_f" id="cel_1_11"></div>
    <div class="area_f" id="cel_1_12"></div>
    <div class="area_f" id="cel_1_13"></div>
    <div class="area_f" id="cel_1_14"></div>
    <div class="area_f" id="cel_1_15"></div>
    <div class="area_f" id="cel_1_16"></div>
</div>

<div class="row">
  <div class="area_f" id="cel_2_1">  </div>
  <div class="area_f" id="cel_2_2">  </div>
  <div class="area_f" id="cel_2_3">  </div>
  <div class="area_f" id="cel_2_4">  </div>
  <div class="area_f" id="cel_2_5">  </div>
  <div class="area_f" id="cel_2_6">  </div>
  <div class="area_f" id="cel_2_7">  </div>
  <div class="area_f" id="cel_2_8">  </div>
  <div class="area_f" id="cel_2_9">  </div>
  <div class="area_f" id="cel_2_10">  </div>
  <div class="area_f" id="cel_2_11">  </div>
  <div class="area_f" id="cel_2_12">  </div>
  <div class="area_f" id="cel_2_13">  </div>
  <div class="area_f" id="cel_2_14">  </div>
  <div class="area_f" id="cel_2_15">  </div>
  <div class="area_f" id="cel_2_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_3_1">  </div>
  <div class="area_f" id="cel_3_2">  </div>
  <div class="area_f" id="cel_3_3">  </div>
  <div class="area_f" id="cel_3_4">  </div>
  <div class="area_f" id="cel_3_5">  </div>
  <div class="area_f" id="cel_3_6">  </div>
  <div class="area_f" id="cel_3_7">  </div>
  <div class="area_f" id="cel_3_8">  </div>
  <div class="area_f" id="cel_3_9">  </div>
  <div class="area_f" id="cel_3_10">  </div>
  <div class="area_f" id="cel_3_11">  </div>
  <div class="area_f" id="cel_3_12">  </div>
  <div class="area_f" id="cel_3_13">  </div>
  <div class="area_f" id="cel_3_14">  </div>
  <div class="area_f" id="cel_3_15">  </div>
  <div class="area_f" id="cel_3_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_4_1">  </div>
  <div class="area_f" id="cel_4_2">  </div>
  <div class="area_f" id="cel_4_3">  </div>
  <div class="area_f" id="cel_4_4">  </div>
  <div class="area_f" id="cel_4_5">  </div>
  <div class="area_f" id="cel_4_6">  </div>
  <div class="area_f" id="cel_4_7">  </div>
  <div class="area_f" id="cel_4_8">  </div>
  <div class="area_f" id="cel_4_9">  </div>
  <div class="area_f" id="cel_4_10">  </div>
  <div class="area_f" id="cel_4_11">  </div>
  <div class="area_f" id="cel_4_12">  </div>
  <div class="area_f" id="cel_4_13">  </div>
  <div class="area_f" id="cel_4_14">  </div>
  <div class="area_f" id="cel_4_15">  </div>
  <div class="area_f" id="cel_4_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_5_1">  </div>
  <div class="area_f" id="cel_5_2">  </div>
  <div class="area_f" id="cel_5_3">  </div>
  <div class="area_f" id="cel_5_4">  </div>
  <div class="area_f" id="cel_5_5">  </div>
  <div class="area_f" id="cel_5_6">  </div>
  <div class="area_f" id="cel_5_7">  </div>
  <div class="area_f" id="cel_5_8">  </div>
  <div class="area_f" id="cel_5_9">  </div>
  <div class="area_f" id="cel_5_10">  </div>
  <div class="area_f" id="cel_5_11">  </div>
  <div class="area_f" id="cel_5_12">  </div>
  <div class="area_f" id="cel_5_13">  </div>
  <div class="area_f" id="cel_5_14">  </div>
  <div class="area_f" id="cel_5_15">  </div>
  <div class="area_f" id="cel_5_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_6_1">  </div>
  <div class="area_f" id="cel_6_2">  </div>
  <div class="area_f" id="cel_6_3">  </div>
  <div class="area_f" id="cel_6_4">  </div>
  <div class="area_f" id="cel_6_5">  </div>
  <div class="area_f" id="cel_6_6">  </div>
  <div class="area_f" id="cel_6_7">  </div>
  <div class="area_f" id="cel_6_8">  </div>
  <div class="area_f" id="cel_6_9">  </div>
  <div class="area_f" id="cel_6_10">  </div>
  <div class="area_f" id="cel_6_11">  </div>
  <div class="area_f" id="cel_6_12">  </div>
  <div class="area_f" id="cel_6_13">  </div>
  <div class="area_f" id="cel_6_14">  </div>
  <div class="area_f" id="cel_6_15">  </div>
  <div class="area_f" id="cel_6_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_7_1">  </div>
  <div class="area_f" id="cel_7_2">  </div>
  <div class="area_f" id="cel_7_3">  </div>
  <div class="area_f" id="cel_7_4">  </div>
  <div class="area_f" id="cel_7_5">  </div>
  <div class="area_f" id="cel_7_6">  </div>
  <div class="area_f" id="cel_7_7">  </div>
  <div class="area_f" id="cel_7_8">  </div>
  <div class="area_f" id="cel_7_9">  </div>
  <div class="area_f" id="cel_7_10">  </div>
  <div class="area_f" id="cel_7_11">  </div>
  <div class="area_f" id="cel_7_12">  </div>
  <div class="area_f" id="cel_7_13">  </div>
  <div class="area_f" id="cel_7_14">  </div>
  <div class="area_f" id="cel_7_15">  </div>
  <div class="area_f" id="cel_7_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_8_1">  </div>
  <div class="area_f" id="cel_8_2">  </div>
  <div class="area_f" id="cel_8_3">  </div>
  <div class="area_f" id="cel_8_4">  </div>
  <div class="area_f" id="cel_8_5">  </div>
  <div class="area_f" id="cel_8_6">  </div>
  <div class="area_f" id="cel_8_7">  </div>
  <div class="area_f" id="cel_8_8">  </div>
  <div class="area_f" id="cel_8_9">  </div>
  <div class="area_f" id="cel_8_10">  </div>
  <div class="area_f" id="cel_8_11">  </div>
  <div class="area_f" id="cel_8_12">  </div>
  <div class="area_f" id="cel_8_13">  </div>
  <div class="area_f" id="cel_8_14">  </div>
  <div class="area_f" id="cel_8_15">  </div>
  <div class="area_f" id="cel_8_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_9_1">  </div>
  <div class="area_f" id="cel_9_2">  </div>
  <div class="area_f" id="cel_9_3">  </div>
  <div class="area_f" id="cel_9_4">  </div>
  <div class="area_f" id="cel_9_5">  </div>
  <div class="area_f" id="cel_9_6">  </div>
  <div class="area_f" id="cel_9_7">  </div>
  <div class="area_f" id="cel_9_8">  </div>
  <div class="area_f" id="cel_9_9">  </div>
  <div class="area_f" id="cel_9_10">  </div>
  <div class="area_f" id="cel_9_11">  </div>
  <div class="area_f" id="cel_9_12">  </div>
  <div class="area_f" id="cel_9_13">  </div>
  <div class="area_f" id="cel_9_14">  </div>
  <div class="area_f" id="cel_9_15">  </div>
  <div class="area_f" id="cel_9_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_10_1">  </div>
  <div class="area_f" id="cel_10_2">  </div>
  <div class="area_f" id="cel_10_3">  </div>
  <div class="area_f" id="cel_10_4">  </div>
  <div class="area_f" id="cel_10_5">  </div>
  <div class="area_f" id="cel_10_6">  </div>
  <div class="area_f" id="cel_10_7">  </div>
  <div class="area_f" id="cel_10_8">  </div>
  <div class="area_f" id="cel_10_9">  </div>
  <div class="area_f" id="cel_10_10">  </div>
  <div class="area_f" id="cel_10_11">  </div>
  <div class="area_f" id="cel_10_12">  </div>
  <div class="area_f" id="cel_10_13">  </div>
  <div class="area_f" id="cel_10_14">  </div>
  <div class="area_f" id="cel_10_15">  </div>
  <div class="area_f" id="cel_10_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_11_1">  </div>
  <div class="area_f" id="cel_11_2">  </div>
  <div class="area_f" id="cel_11_3">  </div>
  <div class="area_f" id="cel_11_4">  </div>
  <div class="area_f" id="cel_11_5">  </div>
  <div class="area_f" id="cel_11_6">  </div>
  <div class="area_f" id="cel_11_7">  </div>
  <div class="area_f" id="cel_11_8">  </div>
  <div class="area_f" id="cel_11_9">  </div>
  <div class="area_f" id="cel_11_10">  </div>
  <div class="area_f" id="cel_11_11">  </div>
  <div class="area_f" id="cel_11_12">  </div>
  <div class="area_f" id="cel_11_13">  </div>
  <div class="area_f" id="cel_11_14">  </div>
  <div class="area_f" id="cel_11_15">  </div>
  <div class="area_f" id="cel_11_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_12_1">  </div>
  <div class="area_f" id="cel_12_2">  </div>
  <div class="area_f" id="cel_12_3">  </div>
  <div class="area_f" id="cel_12_4">  </div>
  <div class="area_f" id="cel_12_5">  </div>
  <div class="area_f" id="cel_12_6">  </div>
  <div class="area_f" id="cel_12_7">  </div>
  <div class="area_f" id="cel_12_8">  </div>
  <div class="area_f" id="cel_12_9">  </div>
  <div class="area_f" id="cel_12_10">  </div>
  <div class="area_f" id="cel_12_11">  </div>
  <div class="area_f" id="cel_12_12">  </div>
  <div class="area_f" id="cel_12_13">  </div>
  <div class="area_f" id="cel_12_14">  </div>
  <div class="area_f" id="cel_12_15">  </div>
  <div class="area_f" id="cel_12_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_13_1">  </div>
  <div class="area_f" id="cel_13_2">  </div>
  <div class="area_f" id="cel_13_3">  </div>
  <div class="area_f" id="cel_13_4">  </div>
  <div class="area_f" id="cel_13_5">  </div>
  <div class="area_f" id="cel_13_6">  </div>
  <div class="area_f" id="cel_13_7">  </div>
  <div class="area_f" id="cel_13_8">  </div>
  <div class="area_f" id="cel_13_9">  </div>
  <div class="area_f" id="cel_13_10">  </div>
  <div class="area_f" id="cel_13_11">  </div>
  <div class="area_f" id="cel_13_12">  </div>
  <div class="area_f" id="cel_13_13">  </div>
  <div class="area_f" id="cel_13_14">  </div>
  <div class="area_f" id="cel_13_15">  </div>
  <div class="area_f" id="cel_13_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_14_1">  </div>
  <div class="area_f" id="cel_14_2">  </div>
  <div class="area_f" id="cel_14_3">  </div>
  <div class="area_f" id="cel_14_4">  </div>
  <div class="area_f" id="cel_14_5">  </div>
  <div class="area_f" id="cel_14_6">  </div>
  <div class="area_f" id="cel_14_7">  </div>
  <div class="area_f" id="cel_14_8">  </div>
  <div class="area_f" id="cel_14_9">  </div>
  <div class="area_f" id="cel_14_10">  </div>
  <div class="area_f" id="cel_14_11">  </div>
  <div class="area_f" id="cel_14_12">  </div>
  <div class="area_f" id="cel_14_13">  </div>
  <div class="area_f" id="cel_14_14">  </div>
  <div class="area_f" id="cel_14_15">  </div>
  <div class="area_f" id="cel_14_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_15_1">  </div>
  <div class="area_f" id="cel_15_2">  </div>
  <div class="area_f" id="cel_15_3">  </div>
  <div class="area_f" id="cel_15_4">  </div>
  <div class="area_f" id="cel_15_5">  </div>
  <div class="area_f" id="cel_15_6">  </div>
  <div class="area_f" id="cel_15_7">  </div>
  <div class="area_f" id="cel_15_8">  </div>
  <div class="area_f" id="cel_15_9">  </div>
  <div class="area_f" id="cel_15_10">  </div>
  <div class="area_f" id="cel_15_11">  </div>
  <div class="area_f" id="cel_15_12">  </div>
  <div class="area_f" id="cel_15_13">  </div>
  <div class="area_f" id="cel_15_14">  </div>
  <div class="area_f" id="cel_15_15">  </div>
  <div class="area_f" id="cel_15_16">  </div>
</div>

<div class="row">
  <div class="area_f" id="cel_16_1">  </div>
  <div class="area_f" id="cel_16_2">  </div>
  <div class="area_f" id="cel_16_3">  </div>
  <div class="area_f" id="cel_16_4">  </div>
  <div class="area_f" id="cel_16_5">  </div>
  <div class="area_f" id="cel_16_6">  </div>
  <div class="area_f" id="cel_16_7">  </div>
  <div class="area_f" id="cel_16_8">  </div>
  <div class="area_f" id="cel_16_9">  </div>
  <div class="area_f" id="cel_16_10">  </div>
  <div class="area_f" id="cel_16_11">  </div>
  <div class="area_f" id="cel_16_12">  </div>
  <div class="area_f" id="cel_16_13">  </div>
  <div class="area_f" id="cel_16_14">  </div>
  <div class="area_f" id="cel_16_15">  </div>
  <div class="area_f" id="cel_16_16">  </div>
</div>






</div>
</div>
</div>
</div>

<div class="pt" style="justify-content: center; margin-bottom: 50px;">
  <div id="loadButton" class="regular_btn" style="width:auto; margin:0px;height: 100%;">
      <div class="regular_btn1">
          <b class="regular_btn2" style="padding: 15px">Завантажити</b>
      </div>
  </div>
</div>

</div>

</div>

<div id="popupMenu" style="display:none;">
<div class="pt0">

  <div class="pt pt2">

    <div onclick="downloadPixelArtAsHTML()" id="loadButton" class="regular_btn pt0" style="">
        <div class="regular_btn1">
            <b class="regular_btn2" style="padding: 15px">HTML</b>
        </div>
    </div>

    <hr>


    <div onclick="downloadLTAsJS()" id="loadButton" class="regular_btn pt0" style="">
        <div class="regular_btn1">
            <b class="regular_btn2" style="padding: 15px">Завантажити l_t як JS</b>
        </div>
    </div>

    <div onclick="downloadRTAsJS()" id="loadButton" class="regular_btn pt0" style="">
        <div class="regular_btn1">
            <b class="regular_btn2" style="padding: 15px">Завантажити r_t як JS</b>
        </div>
    </div>

    <div onclick="downloadLBAsJS()" id="loadButton" class="regular_btn pt0" style="">
        <div class="regular_btn1">
            <b class="regular_btn2" style="padding: 15px">Завантажити l_b як JS</b>
        </div>
    </div>

    <div onclick="downloadRBAsJS()" id="loadButton" class="regular_btn pt0" style="">
        <div class="regular_btn1">
            <b class="regular_btn2" style="padding: 15px">Завантажити r_b як JS</b>
        </div>
    </div>

<button onclick="$('#popupMenu').fadeOut();">Закрити</button>
  </div>

</div>




</div>

</div>

</body>

<script>

function applyClassesFromArray1(arr) {
    arr.forEach(subArray => {
        subArray.forEach(obj => {
            // Найти элемент по ID
            const element = document.getElementById(obj.id);
            if (element) {
                // Заменить классы элемента
                element.className = obj.class;
            } else {
                console.log(`Элемент с ID ${obj.id} не найден.`);
            }
        });
    });
}

function clearLayer(){
  // let num1 = generateRandomNumbers(1, 7);
  // let num2 = generateRandomNumbers(1, 7);
  // let num3 = generateRandomNumbers(1, 7);
  // let num4 = generateRandomNumbers(1, 7);
  // console.log(`num1: ${num1}, num2: ${num2}, num3: ${num3}, num4: ${num4}`);
  document.getElementById('color1').value = "#ffffff";
document.getElementById('color2').value = "#000000";
document.getElementById('color3').value = "#ff0000";
document.getElementById('color4').value = "#6B99C9";

document.getElementById('alpha1').value = 255;
document.getElementById('alpha2').value = 255;
document.getElementById('alpha3').value = 255;
document.getElementById('alpha4').value = 255;
  ['area_t', 'area_f', 'area_r', 'area_p'].forEach(className => {
      let elements = document.getElementsByClassName(className);
      for (let element of elements) {
          element.style.backgroundColor = ''; // Удаление индивидуального фона
      }
  });
  const filesToLoad = [
      { path: `/inc/mouse/data/l_t/0_draw_clear.js`, type: 'js' },
      { path: `/inc/mouse/data/r_t/0_draw_clear.js`, type: 'js' },
      { path: `/inc/mouse/data/l_b/0_draw_clear.js`, type: 'js' },
      { path: `/inc/mouse/data/r_b/0_draw_clear.js`, type: 'js' }
  ];

  loadFilesSequentially(filesToLoad, 0, function() {
      applyClassesFromArray1(l_b);
      applyClassesFromArray1(l_t);
      applyClassesFromArray1(r_t);
      applyClassesFromArray1(r_b);
  });
}


function applyClassesFromArray(arr) {
    arr.forEach(subArray => {
        subArray.forEach(obj => {
            // Найти элемент по ID
            const element = document.getElementById(obj.id);
            if (element) {
                // Заменить классы элемента
                element.className = obj.class;
            } else {
                console.log(`Элемент с ID ${obj.id} не найден.`);
            }
        });
    });
}

// Пример использования функции с вашим массивом
applyClassesFromArray(l_t);
applyClassesFromArray(r_t);
applyClassesFromArray(l_b);
applyClassesFromArray(r_b);

function downloadLTAsJS() {
    let l_t = [];
    for (let row = 1; row <= 8; row++) {
        let currentRow = [];
        for (let col = 1; col <= 8; col++) {
            let cellId = `cel_${row}_${col}`;
            let cell = document.getElementById(cellId);
            if (cell) {
                currentRow.push({ id: cellId, class: cell.className });
            }
        }
        l_t.push(currentRow);
    }

    downloadArray(l_t, 'l_t');
}

function downloadArray(array, arrayName) {
    if (array.length === 0) {
        console.error(`Массив ${arrayName} пуст.`);
        return;
    }

    const jsContent = `const ${arrayName} = ${JSON.stringify(array, null, 2)};`;
    const blob = new Blob([jsContent], { type: 'text/javascript' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${arrayName}.js`;
    a.click();
    URL.revokeObjectURL(url);
}



function downloadRTAsJS() {
    let r_t = [];
    for (let row = 1; row <= 8; row++) {
        let currentRow = [];
        for (let col = 9; col <= 16; col++) {
            let cellId = `cel_${row}_${col}`;
            let cell = document.getElementById(cellId);
            if (cell) {
                currentRow.push({ id: cellId, class: cell.className });
            }
        }
        r_t.push(currentRow);
    }

    downloadArray(r_t, 'r_t');
}


function downloadLBAsJS() {
    let l_b = [];
    for (let row = 9; row <= 16; row++) {
        let currentRow = [];
        for (let col = 1; col <= 8; col++) {
            let cellId = `cel_${row}_${col}`;
            let cell = document.getElementById(cellId);
            if (cell) {
                currentRow.push({ id: cellId, class: cell.className });
            }
        }
        l_b.push(currentRow);
    }

    downloadArray(l_b, 'l_b');
}


function downloadRBAsJS() {
    let r_b = [];
    for (let row = 9; row <= 16; row++) {
        let currentRow = [];
        for (let col = 9; col <= 16; col++) {
            let cellId = `cel_${row}_${col}`;
            let cell = document.getElementById(cellId);
            if (cell) {
                currentRow.push({ id: cellId, class: cell.className });
            }
        }
        r_b.push(currentRow);
    }

    downloadArray(r_b, 'r_b');
}



function downloadArrayAsJSON(arrayClass) {
    let array = [];
    let currentRow = [];
    document.querySelectorAll(`.${arrayClass}`).forEach((cell, index) => {
        currentRow.push({ id: cell.id, class: cell.className });
        if ((index + 1) % 16 === 0) { // Предполагается, что лабиринт 16x16
            array.push(currentRow);
            currentRow = [];
        }
    });

    // Создание и скачивание файла JSON
    const jsonStr = JSON.stringify(array, null, 2);
    const blob = new Blob([jsonStr], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${arrayClass}.json`;
    a.click();
    URL.revokeObjectURL(url);
}

function downloadPixelArtAsHTML() {
    // Получение содержимого пиксель-арта
    const pixelArtContent = document.querySelector('.area').innerHTML;

    // Создание стандартной структуры HTML
    const fullHtml = `
    <!DOCTYPE html>
    <html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Micromouse Map</title>
        <style>
            /* CSS */
        </style>
    </head>
    <body>
        ${pixelArtContent}
    </body>
    </html>
    /* by George Romanenko */`;

    // Создание и скачивание файла
    const blob = new Blob([fullHtml], { type: 'text/html' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'micromouse_area.html';
    a.click();
    URL.revokeObjectURL(url);
}

function downloadArrayAsJSON(array, filename) {
    const jsonString = JSON.stringify(array, null, 2);
    const blob = new Blob([jsonString], { type: 'application/json' });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = filename + '.json';
    a.click();
    URL.revokeObjectURL(url);
}


document.addEventListener('DOMContentLoaded', (event) => {





  document.getElementById('loadButton').addEventListener('click', function() {
      $('#popupMenu').fadeIn();
  });

  function downloadArt(format) {
      let artData = collectArtData();

      if (format === 'json') {
          downloadJSON(artData);
      } else if (format === 'csv') {
          downloadCSV(artData);
      }

      // Закрыть всплывающее меню после выбора
      $('#popupMenu').fadeOut();
  }

  function collectArtData() {
      // Собираем данные из вашего лабиринта
      // Пример: получаем данные всех ячеек лабиринта
      let data = [];
      for (let row = 1; row <= 16; row++) {
          for (let col = 1; col <= 16; col++) {
              let cellId = `cel_${row}_${col}`;
              let cell = document.getElementById(cellId);
              if (cell) {
                  data.push({id: cellId, class: cell.className});
              }
          }
      }
      return data;
  }

  function downloadJSON(data) {
      let dataStr = "data:text/json;charset=utf-8," + encodeURIComponent(JSON.stringify(data));
      let dlAnchorElem = document.createElement('a');
      dlAnchorElem.setAttribute("href", dataStr);
      dlAnchorElem.setAttribute("download", "art.json");
      dlAnchorElem.click();
  }

  function downloadCSV(data) {
      let csvContent = "data:text/csv;charset=utf-8,"
      + data.map(e => e.id + "," + e.class).join("\n");

      let dlAnchorElem = document.createElement('a');
      dlAnchorElem.setAttribute("href", encodeURI(csvContent));
      dlAnchorElem.setAttribute("download", "art.csv");
      dlAnchorElem.click();
  }


setupPixelArt();



const draggable = document.querySelector('.draggable');
const grid = document.querySelector('.area'); // Контейнер для лабиринта
const gridCells = grid.querySelectorAll('.row > div'); // Все ячейки лабиринта
let currentRow = 0; // Текущая строка
let currentCol = 0; // Текущий столбец
const gridSize = 16; // Предположим, что у нас 20 ячеек в строке

window.move = (direction) => {
    let newRow = currentRow;
    let newCol = currentCol;

    switch(direction) {
        case 'left':
            newCol--;
            break;
        case 'right':
            newCol++;
            break;
        case 'up':
            newRow--;
            break;
        case 'down':
            newRow++;
            break;
    }

    if (canMoveTo(newRow, newCol)) {
        currentRow = newRow;
        currentCol = newCol;
        updatePosition();
    }
}

function canMoveTo(row, col) {
    if (row < 0 || col < 0 || row >= gridSize || col >= gridSize) {
      console.log("За межами лабіринту");
        return false; // За пределами лабиринта
    }
    const cellIndex = row * gridSize + col;
    return !gridCells[cellIndex].classList.contains('obstacle');
}

function updatePosition() {
    draggable.style.top = (currentRow * 35) + 'px'; // 50 - высота ячейки
    draggable.style.left = (currentCol * 35) + 'px'; // 50 - ширина ячейки
}
});

function setupPixelArt() {
    // Перебор всех ячеек лабиринта
    for (let row = 1; row <= 16; row++) {
        for (let col = 1; col <= 16; col++) {
            let cellId = `cel_${row}_${col}`;
            let cell = document.getElementById(cellId);
            if (cell) {
                cell.addEventListener('click', function() {
                    changeColor(cell);
                });
            }
        }
    }
}

// Глобальная переменная для хранения текущего выбранного класса
let currentClass = 'area_f';

function changeColor(cell) {
    // Удаление всех возможных классов цвета
    cell.classList.remove('area_t', 'area_f', 'area_r', 'area_p');
    // Добавление текущего выбранного класса
    cell.classList.add(currentClass);

    // Получаем текущий цвет и прозрачность для класса
    const colorValue = document.getElementById(`color${getClassIndex(currentClass)}`).value;
    const alphaValue = document.getElementById(`alpha${getClassIndex(currentClass)}`).value;
    const rgbaColor = hexToRgba(colorValue, alphaValue);

    // Применяем background-color непосредственно к ячейке
    cell.style.backgroundColor = rgbaColor;
}
function getClassIndex(className) {
    // Возвращает индекс на основе className для получения соответствующего color и alpha input
    switch(className) {
        case 'area_f': return 1;
        case 'area_r': return 2;
        case 'area_t': return 3;
        case 'area_p': return 4;
        default: return 1; // Значение по умолчанию, если класс не определен
    }
}
// Функция для изменения текущего цвета
function setCurrentColor(newClass) {
    currentClass = newClass;
}

// Инициализация при загрузке страницы
// document.addEventListener('DOMContentLoaded', );


function hexToRgba(hex, alpha) {
    var r = parseInt(hex.slice(1, 3), 16);
    var g = parseInt(hex.slice(3, 5), 16);
    var b = parseInt(hex.slice(5, 7), 16);
    return `rgba(${r}, ${g}, ${b}, ${alpha / 255})`;
}

function updateColor(colorId, alphaId, colorBoxId, className) {
    var colorValue = document.getElementById(colorId).value;
    var alphaValue = document.getElementById(alphaId).value;
    var rgbaColor = hexToRgba(colorValue, alphaValue);

    // Update the color box background
    document.getElementById(colorBoxId).style.backgroundColor = rgbaColor;

    // Update the background color of elements with the specified class name
    var elements = document.getElementsByClassName(className);
    for (var i = 0; i < elements.length; i++) {
      // console.log(elements[i].style.backgroundColor = rgbaColor);
        elements[i].style.backgroundColor = rgbaColor; //Эта строка делает баг
    }
}

// Mapping color pickers and sliders to class names
var mappings = [
    { colorId: 'color1', alphaId: 'alpha1', colorBoxId: 'colorBox1', className: 'area_f' },
    { colorId: 'color2', alphaId: 'alpha2', colorBoxId: 'colorBox2', className: 'area_r' },
    { colorId: 'color3', alphaId: 'alpha3', colorBoxId: 'colorBox3', className: 'area_t' },
    { colorId: 'color4', alphaId: 'alpha4', colorBoxId: 'colorBox4', className: 'area_p' }
];

mappings.forEach(function(mapping) {
    // updateColor(mapping.colorId, mapping.alphaId, mapping.colorBoxId, mapping.className); // Initial update

    document.getElementById(mapping.colorId).oninput = function() {
        updateColor(mapping.colorId, mapping.alphaId, mapping.colorBoxId, mapping.className);
    };

    document.getElementById(mapping.alphaId).oninput = function() {
        updateColor(mapping.colorId, mapping.alphaId, mapping.colorBoxId, mapping.className);
    };
});


</script>
</html>
